import { s as subscribe } from "../../../../chunks/utils2.js";
import { c as create_ssr_component } from "../../../../chunks/ssr.js";
import { p as page } from "../../../../chunks/stores.js";
import { t as tokenCounter, s as sections } from "../../../../chunks/stores2.js";
import "@sveltejs/kit/internal";
import "../../../../chunks/exports.js";
import "../../../../chunks/utils.js";
import "@sveltejs/kit/internal/server";
import { e as escape } from "../../../../chunks/state.svelte.js";
import { a as $format } from "../../../../chunks/runtime.js";
const css = {
  code: ".container.svelte-14r1jza.svelte-14r1jza{max-width:600px;margin:0 auto;padding:2rem;min-height:100vh;display:flex;align-items:center;justify-content:center}.payment-card.svelte-14r1jza.svelte-14r1jza{background:white;padding:3rem;border-radius:1.5rem;box-shadow:var(--shadow-lg);width:100%}.back-btn.svelte-14r1jza.svelte-14r1jza{background:transparent;color:var(--text-light);padding:0.5rem 1rem;border-radius:0.5rem;font-weight:600;margin-bottom:2rem;transition:all 0.2s}.back-btn.svelte-14r1jza.svelte-14r1jza:hover{background:var(--bg-light);color:var(--text-dark)}.section-header.svelte-14r1jza.svelte-14r1jza{text-align:center;margin-bottom:2rem}.icon.svelte-14r1jza.svelte-14r1jza{font-size:4rem;margin-bottom:1rem}.section-header.svelte-14r1jza h2.svelte-14r1jza{color:var(--text-dark);font-size:2rem;margin-bottom:0.5rem}.type-badge.svelte-14r1jza.svelte-14r1jza{display:inline-block;background:var(--primary);color:white;padding:0.25rem 1rem;border-radius:1rem;font-size:0.9rem;font-weight:600}.price-section.svelte-14r1jza.svelte-14r1jza{text-align:center;padding:2rem;background:var(--bg-light);border-radius:1rem;margin-bottom:2rem}.price-label.svelte-14r1jza.svelte-14r1jza{color:var(--text-light);font-size:0.9rem;margin-bottom:0.5rem}.price-amount.svelte-14r1jza.svelte-14r1jza{color:var(--primary);font-size:3rem;font-weight:700}.pay-btn.svelte-14r1jza.svelte-14r1jza,.token-btn.svelte-14r1jza.svelte-14r1jza{width:100%;background:var(--primary);color:white;padding:1.25rem;border-radius:0.75rem;font-size:1.25rem;font-weight:700;transition:all 0.3s;margin-bottom:1rem}.pay-btn.svelte-14r1jza.svelte-14r1jza:hover,.token-btn.svelte-14r1jza.svelte-14r1jza:hover{background:var(--primary-dark);transform:translateY(-2px);box-shadow:var(--shadow)}.token-btn.svelte-14r1jza.svelte-14r1jza{background:var(--success)}.token-btn.svelte-14r1jza.svelte-14r1jza:hover{background:#059669}.info-text.svelte-14r1jza.svelte-14r1jza{text-align:center;color:var(--text-light);font-size:0.9rem}.paid-section.svelte-14r1jza.svelte-14r1jza{text-align:center;padding:2rem;background:linear-gradient(135deg, #10b981 0%, #059669 100%);border-radius:1rem;margin-bottom:2rem}.checkmark.svelte-14r1jza.svelte-14r1jza{width:80px;height:80px;border-radius:50%;background:white;color:var(--success);font-size:3rem;display:flex;align-items:center;justify-content:center;margin:0 auto 1rem;font-weight:700}.paid-text.svelte-14r1jza.svelte-14r1jza{color:white;font-size:1.5rem;font-weight:700;margin-bottom:0.5rem}.paid-amount.svelte-14r1jza.svelte-14r1jza{color:rgba(255, 255, 255, 0.9);font-size:2rem;font-weight:600}.error-text.svelte-14r1jza.svelte-14r1jza{text-align:center;color:var(--danger);font-size:1.25rem;margin-bottom:2rem}@media(max-width: 768px){.container.svelte-14r1jza.svelte-14r1jza{padding:1rem}.payment-card.svelte-14r1jza.svelte-14r1jza{padding:2rem}}",
  map: `{"version":3,"file":"+page.svelte","sources":["+page.svelte"],"sourcesContent":["<script>\\n\\timport { page } from '$app/stores';\\n\\timport { sections, tokenCounter } from '$lib/stores';\\n\\timport { goto } from '$app/navigation';\\n\\timport { _ } from 'svelte-i18n';\\n\\t\\n\\t$: sectionId = parseInt($page.params.id);\\n\\t$: section = $sections.find(s => s.id === sectionId);\\n\\t\\n\\tlet isPaid = false;\\n\\n\\tfunction handlePayment() {\\n\\t\\tisPaid = true;\\n\\t}\\n\\n\\tfunction generateToken() {\\n\\t\\tif (!section) return;\\n\\n\\t\\ttokenCounter.increment();\\n\\t\\tconst currentTokenNumber = $tokenCounter;\\n\\t\\t\\n\\t\\tconst token = {\\n\\t\\t\\tnumber: currentTokenNumber,\\n\\t\\t\\tsectionId: section.id,\\n\\t\\t\\tsectionName: section.name,\\n\\t\\t\\ttimestamp: new Date().toISOString(),\\n\\t\\t\\tprice: section.price\\n\\t\\t};\\n\\n\\t\\tsections.addToQueue(section.id, token);\\n\\t\\t\\n\\t\\tgoto(\`/token/\${currentTokenNumber}?section=\${section.id}\`);\\n\\t}\\n\\n\\tfunction goBack() {\\n\\t\\tgoto('/');\\n\\t}\\n<\/script>\\n\\n<svelte:head>\\n\\t<title>{$_('paymentPage.titlePrefix')} {section?.name || $_('paymentPage.loading')}</title>\\n</svelte:head>\\n\\n<div class=\\"container\\">\\n\\t{#if section}\\n\\t\\t<div class=\\"payment-card\\">\\n\\t\\t\\t<button class=\\"back-btn no-print\\" on:click={goBack}>\\n\\t\\t\\t\\t{$_('paymentPage.back')}\\n\\t\\t\\t</button>\\n\\n\\t\\t\\t<div class=\\"section-header\\">\\n\\t\\t\\t\\t<div class=\\"icon\\">\\n\\t\\t\\t\\t\\t{section.type === 'clinic' ? 'ðŸ©º' : 'ðŸ”¬'}\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<h2>{section.name}</h2>\\n\\t\\t\\t\\t<p class=\\"type-badge\\">{section.type === 'clinic' ? $_('tokenPage.clinic') : $_('tokenPage.laboratory')}</p>\\n\\t\\t\\t</div>\\n\\n\\t\\t\\t{#if !isPaid}\\n\\t\\t\\t\\t<div class=\\"price-section\\">\\n\\t\\t\\t\\t\\t<p class=\\"price-label\\">{$_('paymentPage.serviceFee')}</p>\\n\\t\\t\\t\\t\\t<p class=\\"price-amount\\">{section.price} {$_('currency')}</p>\\n\\t\\t\\t\\t</div>\\n\\n\\t\\t\\t\\t<button class=\\"pay-btn\\" on:click={handlePayment}>\\n\\t\\t\\t\\t\\t{$_('paymentPage.proceedToPayment')}\\n\\t\\t\\t\\t</button>\\n\\n\\t\\t\\t\\t<p class=\\"info-text\\">\\n\\t\\t\\t\\t\\t{$_('paymentPage.manualPaymentInfo')}\\n\\t\\t\\t\\t</p>\\n\\t\\t\\t{:else}\\n\\t\\t\\t\\t<div class=\\"paid-section\\">\\n\\t\\t\\t\\t\\t<div class=\\"checkmark\\">âœ“</div>\\n\\t\\t\\t\\t\\t<p class=\\"paid-text\\">{$_('paymentPage.paymentConfirmed')}</p>\\n\\t\\t\\t\\t\\t<p class=\\"paid-amount\\">{section.price} SDG</p>\\n\\t\\t\\t\\t</div>\\n\\n\\t\\t\\t\\t<button class=\\"token-btn\\" on:click={generateToken}>\\n\\t\\t\\t\\t\\t{$_('paymentPage.generateToken')}\\n\\t\\t\\t\\t</button>\\n\\n\\t\\t\\t\\t<p class=\\"info-text\\">\\n\\t\\t\\t\\t\\t{$_('paymentPage.generateTokenInfo')}\\n\\t\\t\\t\\t</p>\\n\\t\\t\\t{/if}\\n\\t\\t</div>\\n\\t{:else}\\n\\t\\t<div class=\\"payment-card\\">\\n\\t\\t\\t<p class=\\"error-text\\">{$_('paymentPage.sectionNotFound')}</p>\\n\\t\\t\\t<button class=\\"back-btn\\" on:click={goBack}>\\n\\t\\t\\t\\t{$_('paymentPage.returnToHome')}\\n\\t\\t\\t</button>\\n\\t\\t</div>\\n\\t{/if}\\n</div>\\n\\n<style>\\n\\t.container {\\n\\t\\tmax-width: 600px;\\n\\t\\tmargin: 0 auto;\\n\\t\\tpadding: 2rem;\\n\\t\\tmin-height: 100vh;\\n\\t\\tdisplay: flex;\\n\\t\\talign-items: center;\\n\\t\\tjustify-content: center;\\n\\t}\\n\\n\\t.payment-card {\\n\\t\\tbackground: white;\\n\\t\\tpadding: 3rem;\\n\\t\\tborder-radius: 1.5rem;\\n\\t\\tbox-shadow: var(--shadow-lg);\\n\\t\\twidth: 100%;\\n\\t}\\n\\n\\t.back-btn {\\n\\t\\tbackground: transparent;\\n\\t\\tcolor: var(--text-light);\\n\\t\\tpadding: 0.5rem 1rem;\\n\\t\\tborder-radius: 0.5rem;\\n\\t\\tfont-weight: 600;\\n\\t\\tmargin-bottom: 2rem;\\n\\t\\ttransition: all 0.2s;\\n\\t}\\n\\n\\t.back-btn:hover {\\n\\t\\tbackground: var(--bg-light);\\n\\t\\tcolor: var(--text-dark);\\n\\t}\\n\\n\\t.section-header {\\n\\t\\ttext-align: center;\\n\\t\\tmargin-bottom: 2rem;\\n\\t}\\n\\n\\t.icon {\\n\\t\\tfont-size: 4rem;\\n\\t\\tmargin-bottom: 1rem;\\n\\t}\\n\\n\\t.section-header h2 {\\n\\t\\tcolor: var(--text-dark);\\n\\t\\tfont-size: 2rem;\\n\\t\\tmargin-bottom: 0.5rem;\\n\\t}\\n\\n\\t.type-badge {\\n\\t\\tdisplay: inline-block;\\n\\t\\tbackground: var(--primary);\\n\\t\\tcolor: white;\\n\\t\\tpadding: 0.25rem 1rem;\\n\\t\\tborder-radius: 1rem;\\n\\t\\tfont-size: 0.9rem;\\n\\t\\tfont-weight: 600;\\n\\t}\\n\\n\\t.price-section {\\n\\t\\ttext-align: center;\\n\\t\\tpadding: 2rem;\\n\\t\\tbackground: var(--bg-light);\\n\\t\\tborder-radius: 1rem;\\n\\t\\tmargin-bottom: 2rem;\\n\\t}\\n\\n\\t.price-label {\\n\\t\\tcolor: var(--text-light);\\n\\t\\tfont-size: 0.9rem;\\n\\t\\tmargin-bottom: 0.5rem;\\n\\t}\\n\\n\\t.price-amount {\\n\\t\\tcolor: var(--primary);\\n\\t\\tfont-size: 3rem;\\n\\t\\tfont-weight: 700;\\n\\t}\\n\\n\\t.pay-btn, .token-btn {\\n\\t\\twidth: 100%;\\n\\t\\tbackground: var(--primary);\\n\\t\\tcolor: white;\\n\\t\\tpadding: 1.25rem;\\n\\t\\tborder-radius: 0.75rem;\\n\\t\\tfont-size: 1.25rem;\\n\\t\\tfont-weight: 700;\\n\\t\\ttransition: all 0.3s;\\n\\t\\tmargin-bottom: 1rem;\\n\\t}\\n\\n\\t.pay-btn:hover, .token-btn:hover {\\n\\t\\tbackground: var(--primary-dark);\\n\\t\\ttransform: translateY(-2px);\\n\\t\\tbox-shadow: var(--shadow);\\n\\t}\\n\\n\\t.token-btn {\\n\\t\\tbackground: var(--success);\\n\\t}\\n\\n\\t.token-btn:hover {\\n\\t\\tbackground: #059669;\\n\\t}\\n\\n\\t.info-text {\\n\\t\\ttext-align: center;\\n\\t\\tcolor: var(--text-light);\\n\\t\\tfont-size: 0.9rem;\\n\\t}\\n\\n\\t.paid-section {\\n\\t\\ttext-align: center;\\n\\t\\tpadding: 2rem;\\n\\t\\tbackground: linear-gradient(135deg, #10b981 0%, #059669 100%);\\n\\t\\tborder-radius: 1rem;\\n\\t\\tmargin-bottom: 2rem;\\n\\t}\\n\\n\\t.checkmark {\\n\\t\\twidth: 80px;\\n\\t\\theight: 80px;\\n\\t\\tborder-radius: 50%;\\n\\t\\tbackground: white;\\n\\t\\tcolor: var(--success);\\n\\t\\tfont-size: 3rem;\\n\\t\\tdisplay: flex;\\n\\t\\talign-items: center;\\n\\t\\tjustify-content: center;\\n\\t\\tmargin: 0 auto 1rem;\\n\\t\\tfont-weight: 700;\\n\\t}\\n\\n\\t.paid-text {\\n\\t\\tcolor: white;\\n\\t\\tfont-size: 1.5rem;\\n\\t\\tfont-weight: 700;\\n\\t\\tmargin-bottom: 0.5rem;\\n\\t}\\n\\n\\t.paid-amount {\\n\\t\\tcolor: rgba(255, 255, 255, 0.9);\\n\\t\\tfont-size: 2rem;\\n\\t\\tfont-weight: 600;\\n\\t}\\n\\n\\t.error-text {\\n\\t\\ttext-align: center;\\n\\t\\tcolor: var(--danger);\\n\\t\\tfont-size: 1.25rem;\\n\\t\\tmargin-bottom: 2rem;\\n\\t}\\n\\n\\t@media (max-width: 768px) {\\n\\t\\t.container {\\n\\t\\t\\tpadding: 1rem;\\n\\t\\t}\\n\\n\\t\\t.payment-card {\\n\\t\\t\\tpadding: 2rem;\\n\\t\\t}\\n\\t}\\n</style>\\n"],"names":[],"mappings":"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"}`
};
const Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let sectionId;
  let section;
  let $$unsubscribe_tokenCounter;
  let $sections, $$unsubscribe_sections;
  let $page, $$unsubscribe_page;
  let $_, $$unsubscribe__;
  $$unsubscribe_tokenCounter = subscribe(tokenCounter, (value) => value);
  $$unsubscribe_sections = subscribe(sections, (value) => $sections = value);
  $$unsubscribe_page = subscribe(page, (value) => $page = value);
  $$unsubscribe__ = subscribe($format, (value) => $_ = value);
  $$result.css.add(css);
  sectionId = parseInt($page.params.id);
  section = $sections.find((s) => s.id === sectionId);
  $$unsubscribe_tokenCounter();
  $$unsubscribe_sections();
  $$unsubscribe_page();
  $$unsubscribe__();
  return `${$$result.head += `<!-- HEAD_svelte-1mbaq8b_START -->${$$result.title = `<title>${escape($_("paymentPage.titlePrefix"))} ${escape(section?.name || $_("paymentPage.loading"))}</title>`, ""}<!-- HEAD_svelte-1mbaq8b_END -->`, ""} <div class="container svelte-14r1jza">${section ? `<div class="payment-card svelte-14r1jza"><button class="back-btn no-print svelte-14r1jza">${escape($_("paymentPage.back"))}</button> <div class="section-header svelte-14r1jza"><div class="icon svelte-14r1jza">${escape(section.type === "clinic" ? "ðŸ©º" : "ðŸ”¬")}</div> <h2 class="svelte-14r1jza">${escape(section.name)}</h2> <p class="type-badge svelte-14r1jza">${escape(section.type === "clinic" ? $_("tokenPage.clinic") : $_("tokenPage.laboratory"))}</p></div> ${`<div class="price-section svelte-14r1jza"><p class="price-label svelte-14r1jza">${escape($_("paymentPage.serviceFee"))}</p> <p class="price-amount svelte-14r1jza">${escape(section.price)} ${escape($_("currency"))}</p></div> <button class="pay-btn svelte-14r1jza">${escape($_("paymentPage.proceedToPayment"))}</button> <p class="info-text svelte-14r1jza">${escape($_("paymentPage.manualPaymentInfo"))}</p>`}</div>` : `<div class="payment-card svelte-14r1jza"><p class="error-text svelte-14r1jza">${escape($_("paymentPage.sectionNotFound"))}</p> <button class="back-btn svelte-14r1jza">${escape($_("paymentPage.returnToHome"))}</button></div>`} </div>`;
});
export {
  Page as default
};
