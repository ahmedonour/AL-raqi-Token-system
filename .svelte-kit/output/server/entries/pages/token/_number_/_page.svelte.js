import { s as subscribe } from "../../../../chunks/utils2.js";
import { c as create_ssr_component } from "../../../../chunks/ssr.js";
import { p as page } from "../../../../chunks/stores.js";
import { s as sections } from "../../../../chunks/stores2.js";
import "@sveltejs/kit/internal";
import "../../../../chunks/exports.js";
import "../../../../chunks/utils.js";
import "@sveltejs/kit/internal/server";
import "../../../../chunks/state.svelte.js";
import { $ as $format } from "../../../../chunks/runtime.js";
import { e as escape } from "../../../../chunks/escape.js";
const css = {
  code: ".container.svelte-1w8mmqf.svelte-1w8mmqf{max-width:800px;margin:0 auto;padding:2rem;min-height:100vh;display:flex;align-items:center;justify-content:center}.token-card.svelte-1w8mmqf.svelte-1w8mmqf{background:white;padding:.50rem;border-radius:1.5rem;box-shadow:var(--shadow-lg);width:100%}.print-header.svelte-1w8mmqf.svelte-1w8mmqf{text-align:center;margin-bottom:1rem;padding-bottom:1rem;border-bottom:2px dashed var(--border)}.hospital-logo.svelte-1w8mmqf.svelte-1w8mmqf{font-size:2.4rem;margin-bottom:0.25rem}.print-header.svelte-1w8mmqf h1.svelte-1w8mmqf{color:var(--primary);font-size:1.6rem;margin-bottom:0.5rem}.subtitle.svelte-1w8mmqf.svelte-1w8mmqf{color:var(--text-light);font-size:1rem}.token-number-section.svelte-1w8mmqf.svelte-1w8mmqf{text-align:center;margin:0.75rem 0;padding:0.5rem 0.75rem;background:#ffffff;border-radius:0.5rem;border:1px solid #000}.label.svelte-1w8mmqf.svelte-1w8mmqf{color:#000;font-size:0.7rem;margin-bottom:0.15rem;font-weight:600;line-height:0.95}.token-number.svelte-1w8mmqf.svelte-1w8mmqf{color:#000;font-size:2.4rem;font-weight:900;line-height:0.95;text-shadow:none}.section-info.svelte-1w8mmqf.svelte-1w8mmqf{margin:0.25rem 0;padding:0.5rem;background:transparent;border-radius:0.5rem}.info-row.svelte-1w8mmqf.svelte-1w8mmqf{display:flex;justify-content:space-between;padding:0.75rem 0;border-bottom:1px solid var(--border)}.info-row.svelte-1w8mmqf.svelte-1w8mmqf:last-child{border-bottom:none}.info-label.svelte-1w8mmqf.svelte-1w8mmqf{color:var(--text-light);font-weight:600}.info-value.svelte-1w8mmqf.svelte-1w8mmqf{color:var(--text-dark);font-weight:600}.datetime-section.svelte-1w8mmqf.svelte-1w8mmqf{text-align:center;margin:0.5rem 0;padding:0.5rem;background:var(--bg-light);border-radius:0.5rem}.date.svelte-1w8mmqf.svelte-1w8mmqf{color:#000;font-size:0.7rem;font-weight:600;margin-bottom:0;line-height:1.2}.time.svelte-1w8mmqf.svelte-1w8mmqf{color:#000;font-size:0.65rem;margin-top:0;line-height:1.2}.queue-position.svelte-1w8mmqf.svelte-1w8mmqf{text-align:center;margin:0.5rem 0;padding:0.5rem;border:1px solid var(--primary);border-radius:0.5rem}.queue-label.svelte-1w8mmqf.svelte-1w8mmqf{color:#000;font-size:0.65rem;margin-bottom:0.1rem;line-height:0.9}.queue-number.svelte-1w8mmqf.svelte-1w8mmqf{color:#000;font-size:1.1rem;font-weight:700;line-height:0.95}.actions.svelte-1w8mmqf.svelte-1w8mmqf{display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin:2rem 0}.print-btn.svelte-1w8mmqf.svelte-1w8mmqf,.home-btn.svelte-1w8mmqf.svelte-1w8mmqf{padding:1rem;border-radius:0.75rem;font-size:1.1rem;font-weight:700;transition:all 0.2s}.print-btn.svelte-1w8mmqf.svelte-1w8mmqf{background:var(--primary);color:white}.print-btn.svelte-1w8mmqf.svelte-1w8mmqf:hover{background:var(--primary-dark);transform:translateY(-2px);box-shadow:var(--shadow)}.home-btn.svelte-1w8mmqf.svelte-1w8mmqf{background:white;color:var(--primary);border:2px solid var(--primary)}.home-btn.svelte-1w8mmqf.svelte-1w8mmqf:hover{background:var(--bg-light)}.token-footer.svelte-1w8mmqf.svelte-1w8mmqf{text-align:center;margin-top:0.5rem;padding-top:0.5rem;border-top:1px dashed var(--border)}.token-footer.svelte-1w8mmqf p.svelte-1w8mmqf{color:#000;margin-bottom:0.15rem;font-size:0.5rem;line-height:1.2}.footer-main.svelte-1w8mmqf.svelte-1w8mmqf{font-size:0.5rem;font-weight:700;line-height:0.95;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}@media(max-width: 768px){.container.svelte-1w8mmqf.svelte-1w8mmqf{padding:1rem}.token-card.svelte-1w8mmqf.svelte-1w8mmqf{padding:2rem}.token-number.svelte-1w8mmqf.svelte-1w8mmqf{font-size:4rem}.actions.svelte-1w8mmqf.svelte-1w8mmqf{grid-template-columns:1fr}}",
  map: `{"version":3,"file":"+page.svelte","sources":["+page.svelte"],"sourcesContent":["<script>\\n\\timport { page } from '$app/stores';\\n\\timport { sections } from '$lib/stores';\\n\\timport { goto } from '$app/navigation';\\n\\timport { onMount } from 'svelte';\\n\\timport { _ } from 'svelte-i18n';\\n\\timport EscPosEncoder, { toBase64 } from '$lib/escpos.js';\\n\\t\\n\\t$: tokenNumber = parseInt($page.params.number);\\n\\t$: sectionId = parseInt($page.url.searchParams.get('section') || '0');\\n\\t$: section = $sections.find(s => s.id === sectionId);\\n\\t$: token = section?.queue.find(t => t.number === tokenNumber);\\n\\t\\n\\tlet currentDate = '';\\n\\tlet currentTime = '';\\n\\n\\tonMount(() => {\\n\\t\\tupdateDateTime();\\n\\t\\tconst interval = setInterval(updateDateTime, 1000);\\n\\t\\treturn () => clearInterval(interval);\\n\\t});\\n\\n\\tfunction updateDateTime() {\\n\\t\\tconst now = new Date();\\n\\t\\tcurrentDate = now.toLocaleDateString(undefined, { \\n\\t\\t\\tweekday: 'long', \\n\\t\\t\\tyear: 'numeric', \\n\\t\\t\\tmonth: 'long', \\n\\t\\t\\tday: 'numeric' \\n\\t\\t});\\n\\t\\tcurrentTime = now.toLocaleTimeString(undefined);\\n\\t}\\n\\n\\tasync function printToken() {\\n\\t\\tif (typeof window === 'undefined') return;\\n\\n\\t\\tconst encoder = new EscPosEncoder();\\n\\n\\t\\tencoder.alignCenter();\\n\\n\\t\\t// Hospital Title\\n\\t\\tencoder.size(0x11); // Double height and width\\n\\t\\tencoder.text($_('hospital.title'));\\n\\t\\tencoder.newline();\\n\\t\\tencoder.size(0); // Normal size\\n\\t\\tencoder.text($_('tokenPage.subtitle'));\\n\\t\\tencoder.newline(2);\\n\\n\\t\\t// Token Number\\n\\t\\tencoder.text($_('tokenPage.yourTokenNumber'));\\n\\t\\tencoder.newline();\\n\\t\\tencoder.size(0x22); // Quadruple height and width\\n\\t\\tencoder.text(tokenNumber.toString());\\n\\t\\tencoder.newline(2);\\n\\t\\tencoder.size(0); // Normal size\\n\\n\\t\\t// Section Info\\n\\t\\tif (section) {\\n\\t\\t\\tencoder.alignLeft();\\n\\t\\t\\tencoder.text(\`\${$_('tokenPage.section')}: \${section.name}\`);\\n\\t\\t\\tencoder.newline();\\n\\t\\t\\tencoder.text(\`\${$_('tokenPage.type')}: \${section.type === 'clinic' ? $_('tokenPage.clinic') : $_('tokenPage.laboratory')}\`);\\n\\t\\t\\tencoder.newline();\\n\\t\\t\\tencoder.text(\`\${$_('tokenPage.feePaid')}: \${section.price} \${$_('currency')}\`);\\n\\t\\t\\tencoder.newline(2);\\n\\t\\t}\\n\\n\\t\\t// Date & Time\\n\\t\\tencoder.alignCenter();\\n\\t\\tencoder.text(currentDate);\\n\\t\\tencoder.newline();\\n\\t\\tencoder.text(currentTime);\\n\\t\\tencoder.newline(2);\\n\\n\\t\\t// QR Code for token number\\n\\t\\tencoder.printQRCode(tokenNumber.toString(), 6, 'M'); // data, cellSize, correctionLevel\\n\\t\\tencoder.newline(2);\\n\\n\\t\\t// Footer\\n\\t\\tencoder.text($_('tokenPage.thankYouMessage'));\\n\\t\\tencoder.newline();\\n\\t\\tencoder.text($_('hospital.title'));\\n\\t\\tencoder.newline(4); // Add more newlines for paper feed\\n\\t\\tencoder.cut();\\n\\n\\t\\tconst escposData = encoder.encode();\\n\\t\\tconsole.log('ESC/POS Data (Uint8Array):', escposData);\\n\\t\\tconsole.log('ESC/POS Data (Base64):', toBase64(escposData));\\n\\n\\t\\ttry {\\n\\t\\t\\tawait sendToPrinter(escposData);\\n\\t\\t\\talert('Printing command sent successfully!');\\n\\t\\t} catch (error) {\\n\\t\\t\\tconsole.error('Printing failed:', error);\\n\\t\\t\\talert('Printing failed: ' + error.message + '. Make sure your printer is connected and supported.');\\n\\t\\t}\\n\\t}\\n\\n\\tasync function sendToPrinter(data) {\\n\\t\\t// Try Web Bluetooth first\\n\\t\\ttry {\\n\\t\\t\\tawait connectWebBluetooth(data);\\n\\t\\t\\treturn; // If successful, stop here\\n\\t\\t} catch (bluetoothError) {\\n\\t\\t\\tconsole.warn('Web Bluetooth failed:', bluetoothError);\\n\\t\\t\\t// Fallback to other options\\n\\t\\t}\\n\\n\\t\\t// Then try Web USB\\n\\t\\ttry {\\n\\t\\t\\tawait connectWebUSB(data);\\n\\t\\t\\treturn; // If successful, stop here\\n\\t\\t} catch (usbError) {\\n\\t\\t\\tconsole.warn('Web USB failed:', usbError);\\n\\t\\t\\t// Fallback to other options\\n\\t\\t}\\n\\n\\t\\t// Finally, try Web Serial\\n\\t\\ttry {\\n\\t\\t\\tawait connectWebSerial(data);\\n\\t\\t\\treturn; // If successful, stop here\\n\\t\\t} catch (serialError) {\\n\\t\\t\\tconsole.warn('Web Serial failed:', serialError);\\n\\t\\t\\t// If all fail\\n\\t\\t\\tthrow new Error('Could not connect to any printer via Web Bluetooth, Web USB, or Web Serial. ' +\\n\\t\\t\\t\\t\\t\\t\\t'Please ensure your printer is on, discoverable, and supported by one of these APIs.');\\n\\t\\t}\\n\\t}\\n\\n\\tasync function connectWebBluetooth(data) {\\n\\t\\t// Web Bluetooth API requires HTTPS and user gesture.\\n\\t\\t// Service and Characteristic UUIDs may vary by printer model.\\n\\t\\tconst SERVICE_UUID = '000018f0-0000-1000-8000-00805f9b34fb'; // Example: BLE Serial Port Profile\\n\\t\\tconst CHARACTERISTIC_UUID = '00002af1-0000-1000-8000-00805f9b34fb'; // Example: BLE Serial Port Profile characteristic\\n\\n\\t\\tif (!navigator.bluetooth) {\\n\\t\\t\\tthrow new Error('Web Bluetooth API is not available in this browser.');\\n\\t\\t}\\n\\n\\t\\tlet device;\\n\\t\\ttry {\\n\\t\\t\\tdevice = await navigator.bluetooth.requestDevice({\\n\\t\\t\\t\\tfilters: [{ services: [SERVICE_UUID] }],\\n\\t\\t\\t\\toptionalServices: [SERVICE_UUID] // Specify optional services if they might not be advertised initially\\n\\t\\t\\t});\\n\\t\\t\\tconsole.log('Connecting to GATT Server (Bluetooth)...');\\n\\t\\t\\tconst server = await device.gatt.connect();\\n\\n\\t\\t\\tconsole.log('Getting Service...');\\n\\t\\t\\tconst service = await server.getPrimaryService(SERVICE_UUID);\\n\\n\\t\\t\\tconsole.log('Getting Characteristic...');\\n\\t\\t\\tconst characteristic = await service.getCharacteristic(CHARACTERISTIC_UUID);\\n\\n\\t\\t\\tconsole.log('Sending data in chunks...');\\n\\t\\t\\tconst chunkSize = 20; // BLE characteristic write without response max 20 bytes\\n\\t\\t\\tfor (let i = 0; i < data.length; i += chunkSize) {\\n\\t\\t\\t\\tconst chunk = data.slice(i, i + chunkSize);\\n\\t\\t\\t\\tawait characteristic.writeValueWithoutResponse(chunk);\\n\\t\\t\\t}\\n\\t\\t\\tconsole.log('Data sent to printer via Web Bluetooth.');\\n\\t\\t} catch (error) {\\n\\t\\t\\tif (device && device.gatt.connected) {\\n\\t\\t\\t\\tconsole.log('Disconnecting from Bluetooth device.');\\n\\t\\t\\t\\tdevice.gatt.disconnect();\\n\\t\\t\\t}\\n\\t\\t\\tthrow error;\\n\\t\\t} finally {\\n\\t\\t\\tif (device && device.gatt.connected) {\\n\\t\\t\\t\\tdevice.gatt.disconnect();\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\tasync function connectWebUSB(data) {\\n\\t\\tif (!navigator.usb) {\\n\\t\\t\\tthrow new Error('Web USB API is not available in this browser.');\\n\\t\\t}\\n\\n\\t\\tlet device;\\n\\t\\ttry {\\n\\t\\t\\t// Request permission to access a USB device\\n\\t\\t\\t// Use filters to narrow down to common printer VIDs/PIDs or leave empty for all devices\\n\\t\\t\\t// Example filter for Epson: { vendorId: 0x04b8 }\\n\\t\\t\\tdevice = await navigator.usb.requestDevice({ filters: [] }); // No filters for broader discovery\\n\\t\\t\\tawait device.open();\\n\\t\\t\\tif (device.configuration === null) {\\n\\t\\t\\t\\tawait device.selectConfiguration(1); // Select the first configuration\\n\\t\\t\\t}\\n\\t\\t\\tawait device.claimInterface(0); // Claim the first interface\\n\\n\\t\\t\\t// Find an OUT endpoint for writing data\\n\\t\\t\\tconst endpoint = device.configuration.interfaces[0].alternate.endpoints.find(e => e.direction === 'out');\\n\\t\\t\\tif (!endpoint) {\\n\\t\\t\\t\\tthrow new Error('No OUT endpoint found on the USB device.');\\n\\t\\t\\t}\\n\\n\\t\\t\\tconsole.log('Sending data via Web USB...');\\n\\t\\t\\tconst chunkSize = 64; // USB bulk transfer size (common)\\n\\t\\t\\tfor (let i = 0; i < data.length; i += chunkSize) {\\n\\t\\t\\t\\tconst chunk = data.slice(i, i + chunkSize);\\n\\t\\t\\t\\tawait device.transferOut(endpoint.endpointNumber, chunk);\\n\\t\\t\\t}\\n\\t\\t\\tconsole.log('Data sent to printer via Web USB.');\\n\\t\\t} catch (error) {\\n\\t\\t\\tif (device && device.opened) {\\n\\t\\t\\t\\tawait device.close();\\n\\t\\t\\t}\\n\\t\\t\\tthrow error;\\n\\t\\t} finally {\\n\\t\\t\\tif (device && device.opened) {\\n\\t\\t\\t\\tawait device.close();\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\tasync function connectWebSerial(data) {\\n\\t\\tif (!navigator.serial) {\\n\\t\\t\\tthrow new Error('Web Serial API is not available in this browser.');\\n\\t\\t}\\n\\n\\t\\tlet port;\\n\\t\\ttry {\\n\\t\\t\\tport = await navigator.serial.requestPort();\\n\\t\\t\\tawait port.open({ baudRate: 9600 }); // Common baud rate for printers, adjust if needed\\n\\n\\t\\t\\tconst writer = port.writable.getWriter();\\n\\t\\t\\tconsole.log('Sending data via Web Serial...');\\n\\n\\t\\t\\t// Web Serial writable stream expects Uint8Array\\n\\t\\t\\tawait writer.write(data);\\n\\t\\t\\twriter.releaseLock();\\n\\t\\t\\tconsole.log('Data sent to printer via Web Serial.');\\n\\t\\t} catch (error) {\\n\\t\\t\\tif (port && port.opened) {\\n\\t\\t\\t\\tawait port.close();\\n\\t\\t\\t}\\n\\t\\t\\tthrow error;\\n\\t\\t} finally {\\n\\t\\t\\tif (port && port.opened) {\\n\\t\\t\\t\\tawait port.close();\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\tfunction goHome() {\\n\\t\\tgoto('/');\\n\\t}\\n<\/script>\\n\\n<svelte:head>\\n\\t<title>{$_('tokenPage.yourTokenNumber')} #{tokenNumber} - {$_('hospital.title')}</title>\\n</svelte:head>\\n\\n<div class=\\"container\\">\\n\\t<div class=\\"token-card\\">\\n\\t\\t<!-- Print Header -->\\n\\t\\t<div class=\\"print-header\\">\\n\\t\\t\\t<div class=\\"hospital-logo\\">üè•</div>\\n\\t\\t\\t<h1>{$_('hospital.title')}</h1>\\n\\t\\t\\t<p class=\\"subtitle\\">{$_('tokenPage.subtitle')}</p>\\n\\t\\t</div>\\n\\n\\t\\t<!-- Token Number -->\\n\\t\\t<div class=\\"token-number-section\\">\\n\\t\\t\\t<p class=\\"label\\">{$_('tokenPage.yourTokenNumber')}</p>\\n\\t\\t\\t<div class=\\"token-number\\">{tokenNumber}</div>\\n\\t\\t</div>\\n\\n\\t\\t<!-- Section Info -->\\n\\t\\t{#if section}\\n\\t\\t\\t<div class=\\"section-info\\">\\n\\t\\t\\t\\t<div class=\\"info-row\\">\\n\\t\\t\\t\\t\\t<span class=\\"info-label\\">{$_('tokenPage.section')}</span>\\n\\t\\t\\t\\t\\t<span class=\\"info-value\\">{section.name}</span>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div class=\\"info-row\\">\\n\\t\\t\\t\\t\\t<span class=\\"info-label\\">{$_('tokenPage.type')}</span>\\n\\t\\t\\t\\t\\t<span class=\\"info-value\\">{section.type === 'clinic' ? $_('tokenPage.clinic') : $_('tokenPage.laboratory')}</span>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div class=\\"info-row\\">\\n\\t\\t\\t\\t\\t<span class=\\"info-label\\">{$_('tokenPage.feePaid')}</span>\\n\\t\\t\\t\\t\\t<span class=\\"info-value\\">{section.price} {$_('currency')}</span>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t{/if}\\n\\n\\t\\t<!-- Date & Time -->\\n\\t\\t<div class=\\"datetime-section\\">\\n\\t\\t\\t<p class=\\"date\\">{currentDate}</p>\\n\\t\\t\\t<p class=\\"time\\">{currentTime}</p>\\n\\t\\t</div>\\n\\n\\t\\t<!-- Queue Position -->\\n\\t\\t{#if section}\\n\\t\\t\\t<div class=\\"queue-position\\">\\n\\t\\t\\t\\t<p class=\\"queue-label\\">{$_('queue.positionInQueue')}</p>\\n\\t\\t\\t\\t<p class=\\"queue-number\\">\\n\\t\\t\\t\\t\\t{section.queue.findIndex(t => t.number === tokenNumber) + 1} / {section.queue.length}\\n\\t\\t\\t\\t</p>\\n\\t\\t\\t</div>\\n\\t\\t{/if}\\n\\n\\t\\t<!-- Instructions -->\\n\\t\\t<!-- Instructions removed per request -->\\n\\n\\t\\t<!-- Action Buttons -->\\n\\t\\t<div class=\\"actions\\">\\n\\t\\t\\t<button class=\\"print-btn\\" on:click={printToken}>\\n\\t\\t\\t\\tüñ®Ô∏è {$_('tokenPage.printToken')}\\n\\t\\t\\t</button>\\n\\t\\t\\t<button class=\\"home-btn\\" on:click={goHome}>\\n\\t\\t\\t\\tüè† {$_('tokenPage.backToHome')}\\n\\t\\t\\t</button>\\n\\t\\t</div>\\n\\n\\t\\t<!-- Footer -->\\n\\t\\t<div class=\\"token-footer\\">\\n\\t\\t\\t<p class=\\"footer-main\\">{$_('tokenPage.thankYouMessage')} <br> {$_('hospital.title')}</p>\\n\\t\\t\\t<!-- <p class=\\"footer-urgent\\">For emergencies, please contact ‚Ä¶</p> -->\\n\\t\\t</div>\\n\\t</div>\\n</div>\\n\\n<style>\\n\\t.container {\\n\\t\\tmax-width: 800px;\\n\\t\\tmargin: 0 auto;\\n\\t\\tpadding: 2rem;\\n\\t\\tmin-height: 100vh;\\n\\t\\tdisplay: flex;\\n\\t\\talign-items: center;\\n\\t\\tjustify-content: center;\\n\\t}\\n\\n\\t.token-card {\\n\\t\\tbackground: white;\\n\\t\\tpadding: .50rem;\\n\\t\\tborder-radius: 1.5rem;\\n\\t\\tbox-shadow: var(--shadow-lg);\\n\\t\\twidth: 100%;\\n\\t}\\n\\n\\t.print-header {\\n\\t\\ttext-align: center;\\n\\t\\tmargin-bottom: 1rem;\\n\\t\\tpadding-bottom: 1rem;\\n\\t\\tborder-bottom: 2px dashed var(--border);\\n\\t}\\n\\n\\t\\t.hospital-logo {\\n\\t\\t\\tfont-size: 2.4rem;\\n\\t\\t\\tmargin-bottom: 0.25rem;\\n\\t\\t}\\n\\n\\t.print-header h1 {\\n\\t\\tcolor: var(--primary);\\n\\t\\tfont-size: 1.6rem;\\n\\t\\tmargin-bottom: 0.5rem;\\n\\t}\\n\\n\\t.subtitle {\\n\\t\\tcolor: var(--text-light);\\n\\t\\tfont-size: 1rem;\\n\\t}\\n\\n\\t\\t.token-number-section {\\n\\t\\t\\ttext-align: center;\\n\\t\\t\\tmargin: 0.75rem 0;\\n\\t\\t\\tpadding: 0.5rem 0.75rem;\\n\\t\\t\\tbackground: #ffffff; /* B/W */\\n\\t\\t\\tborder-radius: 0.5rem;\\n\\t\\t\\tborder: 1px solid #000;\\n\\t\\t}\\n\\n\\t\\t.label {\\n\\t\\t\\tcolor: #000;\\n\\t\\t\\tfont-size: 0.7rem;\\n\\t\\t\\tmargin-bottom: 0.15rem;\\n\\t\\t\\tfont-weight: 600;\\n\\t\\t\\tline-height: 0.95;\\n\\t\\t}\\n\\n\\t\\t.token-number {\\n\\t\\t\\tcolor: #000;\\n\\t\\t\\tfont-size: 2.4rem;\\n\\t\\t\\tfont-weight: 900;\\n\\t\\t\\tline-height: 0.95;\\n\\t\\t\\ttext-shadow: none;\\n\\t\\t}\\n\\n\\t\\t.section-info {\\n\\t\\t\\tmargin: 0.25rem 0;\\n\\t\\t\\tpadding: 0.5rem;\\n\\t\\t\\tbackground: transparent;\\n\\t\\t\\tborder-radius: 0.5rem;\\n\\t\\t}\\n\\n\\t.info-row {\\n\\t\\tdisplay: flex;\\n\\t\\tjustify-content: space-between;\\n\\t\\tpadding: 0.75rem 0;\\n\\t\\tborder-bottom: 1px solid var(--border);\\n\\t}\\n\\n\\t.info-row:last-child {\\n\\t\\tborder-bottom: none;\\n\\t}\\n\\n\\t.info-label {\\n\\t\\tcolor: var(--text-light);\\n\\t\\tfont-weight: 600;\\n\\t}\\n\\n\\t.info-value {\\n\\t\\tcolor: var(--text-dark);\\n\\t\\tfont-weight: 600;\\n\\t}\\n\\n\\t\\t.datetime-section {\\n\\t\\t\\ttext-align: center;\\n\\t\\t\\tmargin: 0.5rem 0;\\n\\t\\t\\tpadding: 0.5rem;\\n\\t\\t\\tbackground: var(--bg-light);\\n\\t\\t\\tborder-radius: 0.5rem;\\n\\t\\t}\\n\\n\\t\\t.date {\\n\\t\\t\\tcolor: #000;\\n\\t\\t\\tfont-size: 0.7rem;\\n\\t\\t\\tfont-weight: 600;\\n\\t\\t\\tmargin-bottom: 0;\\n\\t\\t\\tline-height: 1.2;\\n\\t\\t}\\n\\n\\t\\t.time {\\n\\t\\t\\tcolor: #000;\\n\\t\\t\\tfont-size: 0.65rem;\\n\\t\\t\\tmargin-top: 0;\\n\\t\\t\\tline-height: 1.2;\\n\\t\\t}\\n\\n\\t\\t.queue-position {\\n\\t\\t\\ttext-align: center;\\n\\t\\t\\tmargin: 0.5rem 0;\\n\\t\\t\\tpadding: 0.5rem;\\n\\t\\t\\tborder: 1px solid var(--primary);\\n\\t\\t\\tborder-radius: 0.5rem;\\n\\t\\t}\\n\\n\\t\\t.queue-label {\\n\\t\\t\\tcolor: #000;\\n\\t\\t\\tfont-size: 0.65rem;\\n\\t\\t\\tmargin-bottom: 0.1rem;\\n\\t\\t\\tline-height: 0.9;\\n\\t\\t}\\n\\n\\t\\t.queue-number {\\n\\t\\t\\tcolor: #000;\\n\\t\\t\\tfont-size: 1.1rem;\\n\\t\\t\\tfont-weight: 700;\\n\\t\\t\\tline-height: 0.95;\\n\\t\\t}\\n\\n\\t/* .instructions {\\n\\t\\tmargin: 2rem 0;\\n\\t\\tpadding: 1.5rem;\\n\\t\\tbackground: #fef3c7;\\n\\t\\tborder-left: 4px solid var(--warning);\\n\\t\\tborder-radius: 0.5rem;\\n\\t}\\n\\n\\t.instructions h3 {\\n\\t\\tcolor: var(--text-dark);\\n\\t\\tfont-size: 1.1rem;\\n\\t\\tmargin-bottom: 1rem;\\n\\t}\\n\\n\\t.instructions ul {\\n\\t\\tlist-style-position: inside;\\n\\t\\tcolor: var(--text-dark);\\n\\t}\\n\\n\\t.instructions li {\\n\\t\\tmargin-bottom: 0.5rem;\\n\\t\\tline-height: 1.5;\\n\\t} */\\n\\n\\t.actions {\\n\\t\\tdisplay: grid;\\n\\t\\tgrid-template-columns: 1fr 1fr;\\n\\t\\tgap: 1rem;\\n\\t\\tmargin: 2rem 0;\\n\\t}\\n\\n\\t.print-btn, .home-btn {\\n\\t\\tpadding: 1rem;\\n\\t\\tborder-radius: 0.75rem;\\n\\t\\tfont-size: 1.1rem;\\n\\t\\tfont-weight: 700;\\n\\t\\ttransition: all 0.2s;\\n\\t}\\n\\n\\t.print-btn {\\n\\t\\tbackground: var(--primary);\\n\\t\\tcolor: white;\\n\\t}\\n\\n\\t.print-btn:hover {\\n\\t\\tbackground: var(--primary-dark);\\n\\t\\ttransform: translateY(-2px);\\n\\t\\tbox-shadow: var(--shadow);\\n\\t}\\n\\n\\t.home-btn {\\n\\t\\tbackground: white;\\n\\t\\tcolor: var(--primary);\\n\\t\\tborder: 2px solid var(--primary);\\n\\t}\\n\\n\\t.home-btn:hover {\\n\\t\\tbackground: var(--bg-light);\\n\\t}\\n\\n\\t\\t.token-footer {\\n\\t\\t\\ttext-align: center;\\n\\t\\t\\tmargin-top: 0.5rem;\\n\\t\\t\\tpadding-top: 0.5rem;\\n\\t\\t\\tborder-top: 1px dashed var(--border);\\n\\t\\t}\\n\\n\\t\\t.token-footer p {\\n\\t\\t\\tcolor: #000;\\n\\t\\t\\tmargin-bottom: 0.15rem;\\n\\t\\t\\tfont-size: 0.5rem;\\n\\t\\t\\tline-height: 1.2;\\n\\t\\t}\\n\\n\\t\\t.footer-main {\\n\\t\\t\\tfont-size: 0.5rem;\\n\\t\\t\\tfont-weight: 700;\\n\\t\\t\\tline-height: 0.95;\\n\\t\\t\\twhite-space: nowrap;\\n\\t\\t\\toverflow: hidden;\\n\\t\\t\\ttext-overflow: ellipsis;\\n\\t\\t}\\n\\n\\t\\t/* .footer-urgent {\\n\\t\\t\\tfont-size: 0.65rem;\\n\\t\\t\\tline-height: 0.95;\\n\\t\\t\\twhite-space: nowrap;\\n\\t\\t\\toverflow: hidden;\\n\\t\\t\\ttext-overflow: ellipsis;\\n\\t\\t}\\n\\n\\t\\t.small {\\n\\t\\t\\tfont-size: 0.7rem;\\n\\t\\t} */\\n\\n\\t\\n\\n\\t@media (max-width: 768px) {\\n\\t\\t.container {\\n\\t\\t\\tpadding: 1rem;\\n\\t\\t}\\n\\n\\t\\t.token-card {\\n\\t\\t\\tpadding: 2rem;\\n\\t\\t}\\n\\n\\t\\t.token-number {\\n\\t\\t\\tfont-size: 4rem;\\n\\t\\t}\\n\\n\\t\\t.actions {\\n\\t\\t\\tgrid-template-columns: 1fr;\\n\\t\\t}\\n\\t}\\n</style>"],"names":[],"mappings":"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"}`
};
const Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let tokenNumber;
  let sectionId;
  let section;
  let $_, $$unsubscribe__;
  let $sections, $$unsubscribe_sections;
  let $page, $$unsubscribe_page;
  $$unsubscribe__ = subscribe($format, (value) => $_ = value);
  $$unsubscribe_sections = subscribe(sections, (value) => $sections = value);
  $$unsubscribe_page = subscribe(page, (value) => $page = value);
  let currentDate = "";
  let currentTime = "";
  $$result.css.add(css);
  tokenNumber = parseInt($page.params.number);
  sectionId = parseInt($page.url.searchParams.get("section") || "0");
  section = $sections.find((s) => s.id === sectionId);
  section?.queue.find((t) => t.number === tokenNumber);
  $$unsubscribe__();
  $$unsubscribe_sections();
  $$unsubscribe_page();
  return `${$$result.head += `<!-- HEAD_svelte-1swwec3_START -->${$$result.title = `<title>${escape($_("tokenPage.yourTokenNumber"))} #${escape(tokenNumber)} - ${escape($_("hospital.title"))}</title>`, ""}<!-- HEAD_svelte-1swwec3_END -->`, ""} <div class="container svelte-1w8mmqf"><div class="token-card svelte-1w8mmqf"> <div class="print-header svelte-1w8mmqf"><div class="hospital-logo svelte-1w8mmqf" data-svelte-h="svelte-17r3utu">üè•</div> <h1 class="svelte-1w8mmqf">${escape($_("hospital.title"))}</h1> <p class="subtitle svelte-1w8mmqf">${escape($_("tokenPage.subtitle"))}</p></div>  <div class="token-number-section svelte-1w8mmqf"><p class="label svelte-1w8mmqf">${escape($_("tokenPage.yourTokenNumber"))}</p> <div class="token-number svelte-1w8mmqf">${escape(tokenNumber)}</div></div>  ${section ? `<div class="section-info svelte-1w8mmqf"><div class="info-row svelte-1w8mmqf"><span class="info-label svelte-1w8mmqf">${escape($_("tokenPage.section"))}</span> <span class="info-value svelte-1w8mmqf">${escape(section.name)}</span></div> <div class="info-row svelte-1w8mmqf"><span class="info-label svelte-1w8mmqf">${escape($_("tokenPage.type"))}</span> <span class="info-value svelte-1w8mmqf">${escape(section.type === "clinic" ? $_("tokenPage.clinic") : $_("tokenPage.laboratory"))}</span></div> <div class="info-row svelte-1w8mmqf"><span class="info-label svelte-1w8mmqf">${escape($_("tokenPage.feePaid"))}</span> <span class="info-value svelte-1w8mmqf">${escape(section.price)} ${escape($_("currency"))}</span></div></div>` : ``}  <div class="datetime-section svelte-1w8mmqf"><p class="date svelte-1w8mmqf">${escape(currentDate)}</p> <p class="time svelte-1w8mmqf">${escape(currentTime)}</p></div>  ${section ? `<div class="queue-position svelte-1w8mmqf"><p class="queue-label svelte-1w8mmqf">${escape($_("queue.positionInQueue"))}</p> <p class="queue-number svelte-1w8mmqf">${escape(section.queue.findIndex((t) => t.number === tokenNumber) + 1)} / ${escape(section.queue.length)}</p></div>` : ``}    <div class="actions svelte-1w8mmqf"><button class="print-btn svelte-1w8mmqf">üñ®Ô∏è ${escape($_("tokenPage.printToken"))}</button> <button class="home-btn svelte-1w8mmqf">üè† ${escape($_("tokenPage.backToHome"))}</button></div>  <div class="token-footer svelte-1w8mmqf"><p class="footer-main svelte-1w8mmqf">${escape($_("tokenPage.thankYouMessage"))} <br> ${escape($_("hospital.title"))}</p> </div></div> </div>`;
});
export {
  Page as default
};
