import{s as Be,n as Me,r as Ue,c as we,o as Le}from"../chunks/DfyVJTpe.js";import{S as Qe,i as Ye,d as a,s as w,a as he,b as e,l as He,p as n,q as Re,g,c as r,e as c,n as Fe,f as _,j as P,h as i,t as h}from"../chunks/C4CklrCk.js";import{p as Ge}from"../chunks/CPKiFbIO.js";import{s as Je}from"../chunks/Dh-yYehQ.js";import{g as Ke}from"../chunks/Cmn7x47L.js";import{isSunmiAvailable as We,printToken as Xe}from"../chunks/FqtPCAbL.js";import{$ as Ze}from"../chunks/BVDECMgz.js";const $e=!1,it=Object.freeze(Object.defineProperty({__proto__:null,prerender:$e},Symbol.toStringTag,{value:"Module"}));function Oe(t){let u,v,f,s=t[4]("tokenPage.section")+"",l,b,z,q=t[0].name+"",D,T,m,k,d=t[4]("tokenPage.type")+"",A,o,B,S=(t[0].type==="clinic"?t[4]("tokenPage.clinic"):t[4]("tokenPage.laboratory"))+"",C,K,O,G,U=t[4]("tokenPage.feePaid")+"",W,se,j,M=t[0].price+"",L,$,X=t[4]("currency")+"",Q;return{c(){u=i("div"),v=i("div"),f=i("span"),l=h(s),b=P(),z=i("span"),D=h(q),T=P(),m=i("div"),k=i("span"),A=h(d),o=P(),B=i("span"),C=h(S),K=P(),O=i("div"),G=i("span"),W=h(U),se=P(),j=i("span"),L=h(M),$=P(),Q=h(X),this.h()},l(E){u=r(E,"DIV",{class:!0});var I=c(u);v=r(I,"DIV",{class:!0});var Z=c(v);f=r(Z,"SPAN",{class:!0});var Y=c(f);l=_(Y,s),Y.forEach(a),b=g(Z),z=r(Z,"SPAN",{class:!0});var R=c(z);D=_(R,q),R.forEach(a),Z.forEach(a),T=g(I),m=r(I,"DIV",{class:!0});var x=c(m);k=r(x,"SPAN",{class:!0});var ee=c(k);A=_(ee,d),ee.forEach(a),o=g(x),B=r(x,"SPAN",{class:!0});var ae=c(B);C=_(ae,S),ae.forEach(a),x.forEach(a),K=g(I),O=r(I,"DIV",{class:!0});var te=c(O);G=r(te,"SPAN",{class:!0});var F=c(G);W=_(F,U),F.forEach(a),se=g(te),j=r(te,"SPAN",{class:!0});var le=c(j);L=_(le,M),$=g(le),Q=_(le,X),le.forEach(a),te.forEach(a),I.forEach(a),this.h()},h(){n(f,"class","info-label svelte-1oztk5b"),n(z,"class","info-value svelte-1oztk5b"),n(v,"class","info-row svelte-1oztk5b"),n(k,"class","info-label svelte-1oztk5b"),n(B,"class","info-value svelte-1oztk5b"),n(m,"class","info-row svelte-1oztk5b"),n(G,"class","info-label svelte-1oztk5b"),n(j,"class","info-value svelte-1oztk5b"),n(O,"class","info-row svelte-1oztk5b"),n(u,"class","section-info svelte-1oztk5b")},m(E,I){he(E,u,I),e(u,v),e(v,f),e(f,l),e(v,b),e(v,z),e(z,D),e(u,T),e(u,m),e(m,k),e(k,A),e(m,o),e(m,B),e(B,C),e(u,K),e(u,O),e(O,G),e(G,W),e(O,se),e(O,j),e(j,L),e(j,$),e(j,Q)},p(E,I){I&16&&s!==(s=E[4]("tokenPage.section")+"")&&w(l,s),I&1&&q!==(q=E[0].name+"")&&w(D,q),I&16&&d!==(d=E[4]("tokenPage.type")+"")&&w(A,d),I&17&&S!==(S=(E[0].type==="clinic"?E[4]("tokenPage.clinic"):E[4]("tokenPage.laboratory"))+"")&&w(C,S),I&16&&U!==(U=E[4]("tokenPage.feePaid")+"")&&w(W,U),I&1&&M!==(M=E[0].price+"")&&w(L,M),I&16&&X!==(X=E[4]("currency")+"")&&w(Q,X)},d(E){E&&a(u)}}}function je(t){let u,v,f=t[4]("queue.positionInQueue")+"",s,l,b,z=t[0].queue.findIndex(t[10])+1+"",q,D,T=t[0].queue.length+"",m;return{c(){u=i("div"),v=i("p"),s=h(f),l=P(),b=i("p"),q=h(z),D=h(" / "),m=h(T),this.h()},l(k){u=r(k,"DIV",{class:!0});var d=c(u);v=r(d,"P",{class:!0});var A=c(v);s=_(A,f),A.forEach(a),l=g(d),b=r(d,"P",{class:!0});var o=c(b);q=_(o,z),D=_(o," / "),m=_(o,T),o.forEach(a),d.forEach(a),this.h()},h(){n(v,"class","queue-label svelte-1oztk5b"),n(b,"class","queue-number svelte-1oztk5b"),n(u,"class","queue-position svelte-1oztk5b")},m(k,d){he(k,u,d),e(u,v),e(v,s),e(u,l),e(u,b),e(b,q),e(b,D),e(b,m)},p(k,d){d&16&&f!==(f=k[4]("queue.positionInQueue")+"")&&w(s,f),d&3&&z!==(z=k[0].queue.findIndex(k[10])+1+"")&&w(q,z),d&1&&T!==(T=k[0].queue.length+"")&&w(m,T)},d(k){k&&a(u)}}}function xe(t){let u,v,f,s,l,b,z="ðŸ¥",q,D,T=t[4]("hospital.title")+"",m,k,d,A=t[4]("tokenPage.subtitle")+"",o,B,S,C,K=t[4]("tokenPage.yourTokenNumber")+"",O,G,U,W,se,j,M,L,$,X,Q,E,I,Z,Y,R,x,ee=t[4]("tokenPage.printToken")+"",ae,te,F,le,ie=t[4]("tokenPage.backToHome")+"",ce,me,oe,J,ue=t[4]("tokenPage.thankYouMessage")+"",fe,ge,pe,Pe,ve=t[4]("hospital.title")+"",de,ze,De;document.title=u=t[4]("tokenPage.yourTokenNumber")+" #"+t[1]+" - "+t[4]("hospital.title");let V=t[0]&&Oe(t),y=t[0]&&je(t);return{c(){v=P(),f=i("div"),s=i("div"),l=i("div"),b=i("div"),b.textContent=z,q=P(),D=i("h1"),m=h(T),k=P(),d=i("p"),o=h(A),B=P(),S=i("div"),C=i("p"),O=h(K),G=P(),U=i("div"),W=h(t[1]),se=P(),V&&V.c(),j=P(),M=i("div"),L=i("p"),$=h(t[2]),X=P(),Q=i("p"),E=h(t[3]),I=P(),y&&y.c(),Z=P(),Y=i("div"),R=i("button"),x=h("ðŸ–¨ï¸ "),ae=h(ee),te=P(),F=i("button"),le=h("ðŸ  "),ce=h(ie),me=P(),oe=i("div"),J=i("p"),fe=h(ue),ge=P(),pe=i("br"),Pe=P(),de=h(ve),this.h()},l(p){Re("svelte-1swwec3",document.head).forEach(a),v=g(p),f=r(p,"DIV",{class:!0});var Te=c(f);s=r(Te,"DIV",{class:!0});var H=c(s);l=r(H,"DIV",{class:!0});var ne=c(l);b=r(ne,"DIV",{class:!0,"data-svelte-h":!0}),Fe(b)!=="svelte-17r3utu"&&(b.textContent=z),q=g(ne),D=r(ne,"H1",{class:!0});var qe=c(D);m=_(qe,T),qe.forEach(a),k=g(ne),d=r(ne,"P",{class:!0});var Ne=c(d);o=_(Ne,A),Ne.forEach(a),ne.forEach(a),B=g(H),S=r(H,"DIV",{class:!0});var be=c(S);C=r(be,"P",{class:!0});var Se=c(C);O=_(Se,K),Se.forEach(a),G=g(be),U=r(be,"DIV",{class:!0});var Ve=c(U);W=_(Ve,t[1]),Ve.forEach(a),be.forEach(a),se=g(H),V&&V.l(H),j=g(H),M=r(H,"DIV",{class:!0});var ke=c(M);L=r(ke,"P",{class:!0});var ye=c(L);$=_(ye,t[2]),ye.forEach(a),X=g(ke),Q=r(ke,"P",{class:!0});var Ae=c(Q);E=_(Ae,t[3]),Ae.forEach(a),ke.forEach(a),I=g(H),y&&y.l(H),Z=g(H),Y=r(H,"DIV",{class:!0});var _e=c(Y);R=r(_e,"BUTTON",{class:!0});var Ee=c(R);x=_(Ee,"ðŸ–¨ï¸ "),ae=_(Ee,ee),Ee.forEach(a),te=g(_e),F=r(_e,"BUTTON",{class:!0});var Ie=c(F);le=_(Ie,"ðŸ  "),ce=_(Ie,ie),Ie.forEach(a),_e.forEach(a),me=g(H),oe=r(H,"DIV",{class:!0});var Ce=c(oe);J=r(Ce,"P",{class:!0});var re=c(J);fe=_(re,ue),ge=g(re),pe=r(re,"BR",{class:!0}),Pe=g(re),de=_(re,ve),re.forEach(a),Ce.forEach(a),H.forEach(a),Te.forEach(a),this.h()},h(){n(b,"class","hospital-logo svelte-1oztk5b"),n(D,"class","svelte-1oztk5b"),n(d,"class","subtitle svelte-1oztk5b"),n(l,"class","print-header svelte-1oztk5b"),n(C,"class","label svelte-1oztk5b"),n(U,"class","token-number svelte-1oztk5b"),n(S,"class","token-number-section svelte-1oztk5b"),n(L,"class","date svelte-1oztk5b"),n(Q,"class","time svelte-1oztk5b"),n(M,"class","datetime-section svelte-1oztk5b"),n(R,"class","print-btn svelte-1oztk5b"),n(F,"class","home-btn svelte-1oztk5b"),n(Y,"class","actions no-print svelte-1oztk5b"),n(pe,"class","svelte-1oztk5b"),n(J,"class","footer-main svelte-1oztk5b"),n(oe,"class","token-footer svelte-1oztk5b"),n(s,"class","token-card svelte-1oztk5b"),n(f,"class","container svelte-1oztk5b")},m(p,N){he(p,v,N),he(p,f,N),e(f,s),e(s,l),e(l,b),e(l,q),e(l,D),e(D,m),e(l,k),e(l,d),e(d,o),e(s,B),e(s,S),e(S,C),e(C,O),e(S,G),e(S,U),e(U,W),e(s,se),V&&V.m(s,null),e(s,j),e(s,M),e(M,L),e(L,$),e(M,X),e(M,Q),e(Q,E),e(s,I),y&&y.m(s,null),e(s,Z),e(s,Y),e(Y,R),e(R,x),e(R,ae),e(Y,te),e(Y,F),e(F,le),e(F,ce),e(s,me),e(s,oe),e(oe,J),e(J,fe),e(J,ge),e(J,pe),e(J,Pe),e(J,de),ze||(De=[He(R,"click",t[5]),He(F,"click",t[6])],ze=!0)},p(p,[N]){N&18&&u!==(u=p[4]("tokenPage.yourTokenNumber")+" #"+p[1]+" - "+p[4]("hospital.title"))&&(document.title=u),N&16&&T!==(T=p[4]("hospital.title")+"")&&w(m,T),N&16&&A!==(A=p[4]("tokenPage.subtitle")+"")&&w(o,A),N&16&&K!==(K=p[4]("tokenPage.yourTokenNumber")+"")&&w(O,K),N&2&&w(W,p[1]),p[0]?V?V.p(p,N):(V=Oe(p),V.c(),V.m(s,j)):V&&(V.d(1),V=null),N&4&&w($,p[2]),N&8&&w(E,p[3]),p[0]?y?y.p(p,N):(y=je(p),y.c(),y.m(s,Z)):y&&(y.d(1),y=null),N&16&&ee!==(ee=p[4]("tokenPage.printToken")+"")&&w(ae,ee),N&16&&ie!==(ie=p[4]("tokenPage.backToHome")+"")&&w(ce,ie),N&16&&ue!==(ue=p[4]("tokenPage.thankYouMessage")+"")&&w(fe,ue),N&16&&ve!==(ve=p[4]("hospital.title")+"")&&w(de,ve)},i:Me,o:Me,d(p){p&&(a(v),a(f)),V&&V.d(),y&&y.d(),ze=!1,Ue(De)}}}function et(t,u,v){let f,s,l,b,z,q;we(t,Je,o=>v(8,b=o)),we(t,Ge,o=>v(9,z=o)),we(t,Ze,o=>v(4,q=o));let D="",T="";Le(()=>{m();const o=setInterval(m,1e3);return()=>clearInterval(o)});function m(){const o=new Date;v(2,D=o.toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"})),v(3,T=o.toLocaleTimeString(void 0))}async function k(){if(typeof window>"u")return;const o=l?l.queue.findIndex(C=>C.number===f)+1:"-",B=l?l.queue.length:"-",S={number:f,section:l==null?void 0:l.name,type:(l==null?void 0:l.type)==="clinic"?"Clinic":(l==null?void 0:l.type)||"-",fee:l==null?void 0:l.price,date:D,time:T,position:o,total:B};if(We())try{await Xe(S)}catch(C){console.error("SUNMI print failed, falling back to browser print",C),window.print&&window.print()}else window.print&&window.print()}function d(){Ke("/")}const A=o=>o.number===f;return t.$$.update=()=>{t.$$.dirty&512&&v(1,f=parseInt(z.params.number)),t.$$.dirty&512&&v(7,s=parseInt(z.url.searchParams.get("section")||"0")),t.$$.dirty&384&&v(0,l=b.find(o=>o.id===s)),t.$$.dirty&3&&(l==null||l.queue.find(o=>o.number===f))},[l,f,D,T,q,k,d,s,b,z,A]}class ut extends Qe{constructor(u){super(),Ye(this,u,et,xe,Be,{})}}export{ut as component,it as universal};
