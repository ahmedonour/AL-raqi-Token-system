import{s as fe,n as ce,r as pe,c as ue,o as he}from"../chunks/Cx-SMqmV.js";import{S as ge,i as _e,d,s as Q,a as te,b as e,l as ve,p as o,q as be,g as k,c as r,e as I,n as O,f as R,j as y,h as c,t as x}from"../chunks/BRdh1MfX.js";import{p as Ce}from"../chunks/DX3C1iXx.js";import{s as ke}from"../chunks/DuzmWgzi.js";import{g as ye}from"../chunks/Dm48oB20.js";import{isSunmiAvailable as Ie,printToken as we}from"../chunks/DaPtPcvu.js";const Te=!1,Ae=Object.freeze(Object.defineProperty({__proto__:null,prerender:Te},Symbol.toStringTag,{value:"Module"}));function de(s){let n,a,u,l="Section:",t,g,_=s[0].name+"",m,f,b,v,p="Type:",D,i,H=s[0].type==="clinic"?"Clinic":"Laboratory",S,E,P,N,B="Fee Paid:",F,M,j=s[0].price+"",A,W;return{c(){n=c("div"),a=c("div"),u=c("span"),u.textContent=l,t=y(),g=c("span"),m=x(_),f=y(),b=c("div"),v=c("span"),v.textContent=p,D=y(),i=c("span"),S=x(H),E=y(),P=c("div"),N=c("span"),N.textContent=B,F=y(),M=c("span"),A=x(j),W=x(" SDG"),this.h()},l(L){n=r(L,"DIV",{class:!0});var h=I(n);a=r(h,"DIV",{class:!0});var V=I(a);u=r(V,"SPAN",{class:!0,"data-svelte-h":!0}),O(u)!=="svelte-1897sqh"&&(u.textContent=l),t=k(V),g=r(V,"SPAN",{class:!0});var X=I(g);m=R(X,_),X.forEach(d),V.forEach(d),f=k(h),b=r(h,"DIV",{class:!0});var G=I(b);v=r(G,"SPAN",{class:!0,"data-svelte-h":!0}),O(v)!=="svelte-qpt31q"&&(v.textContent=p),D=k(G),i=r(G,"SPAN",{class:!0});var U=I(i);S=R(U,H),U.forEach(d),G.forEach(d),E=k(h),P=r(h,"DIV",{class:!0});var K=I(P);N=r(K,"SPAN",{class:!0,"data-svelte-h":!0}),O(N)!=="svelte-1qcwuvg"&&(N.textContent=B),F=k(K),M=r(K,"SPAN",{class:!0});var Y=I(M);A=R(Y,j),W=R(Y," SDG"),Y.forEach(d),K.forEach(d),h.forEach(d),this.h()},h(){o(u,"class","info-label svelte-mlt6gn"),o(g,"class","info-value svelte-mlt6gn"),o(a,"class","info-row svelte-mlt6gn"),o(v,"class","info-label svelte-mlt6gn"),o(i,"class","info-value svelte-mlt6gn"),o(b,"class","info-row svelte-mlt6gn"),o(N,"class","info-label svelte-mlt6gn"),o(M,"class","info-value svelte-mlt6gn"),o(P,"class","info-row svelte-mlt6gn"),o(n,"class","section-info svelte-mlt6gn")},m(L,h){te(L,n,h),e(n,a),e(a,u),e(a,t),e(a,g),e(g,m),e(n,f),e(n,b),e(b,v),e(b,D),e(b,i),e(i,S),e(n,E),e(n,P),e(P,N),e(P,F),e(P,M),e(M,A),e(M,W)},p(L,h){h&1&&_!==(_=L[0].name+"")&&Q(m,_),h&1&&H!==(H=L[0].type==="clinic"?"Clinic":"Laboratory")&&Q(S,H),h&1&&j!==(j=L[0].price+"")&&Q(A,j)},d(L){L&&d(n)}}}function me(s){let n,a,u="Position in Queue",l,t,g=s[0].queue.findIndex(s[9])+1+"",_,m,f=s[0].queue.length+"",b;return{c(){n=c("div"),a=c("p"),a.textContent=u,l=y(),t=c("p"),_=x(g),m=x(" / "),b=x(f),this.h()},l(v){n=r(v,"DIV",{class:!0});var p=I(n);a=r(p,"P",{class:!0,"data-svelte-h":!0}),O(a)!=="svelte-173e1k8"&&(a.textContent=u),l=k(p),t=r(p,"P",{class:!0});var D=I(t);_=R(D,g),m=R(D," / "),b=R(D,f),D.forEach(d),p.forEach(d),this.h()},h(){o(a,"class","queue-label svelte-mlt6gn"),o(t,"class","queue-number svelte-mlt6gn"),o(n,"class","queue-position svelte-mlt6gn")},m(v,p){te(v,n,p),e(n,a),e(n,l),e(n,t),e(t,_),e(t,m),e(t,b)},p(v,p){p&3&&g!==(g=v[0].queue.findIndex(v[9])+1+"")&&Q(_,g),p&1&&f!==(f=v[0].queue.length+"")&&Q(b,f)},d(v){v&&d(n)}}}function qe(s){let n,a,u,l,t,g='<div class="hospital-logo svelte-mlt6gn">üè•</div> <h1 class="svelte-mlt6gn">AL Raqi University Hospital</h1> <p class="subtitle svelte-mlt6gn">Queue Token</p>',_,m,f,b="Your Token Number",v,p,D,i,H,S,E,P,N,B,F,M,j,A,W='<h3 class="svelte-mlt6gn">Instructions:</h3> <ul class="svelte-mlt6gn"><li class="svelte-mlt6gn">Please wait for your number to be called</li> <li class="svelte-mlt6gn">Keep this token with you at all times</li> <li class="svelte-mlt6gn">Listen for announcements in the waiting area</li> <li class="svelte-mlt6gn">If you miss your turn, please inform the reception</li></ul>',L,h,V,X="üñ®Ô∏è Print Token",G,U,K="üè† Back to Home",Y,J,se='<p class="svelte-mlt6gn">Thank you for choosing AL Raqi University Hospital</p> <p class="small svelte-mlt6gn">For emergencies, please contact our emergency department immediately</p>',le,ne;document.title=n="Token #"+s[1]+" - AL Raqi University Hospital";let w=s[0]&&de(s),T=s[0]&&me(s);return{c(){a=y(),u=c("div"),l=c("div"),t=c("div"),t.innerHTML=g,_=y(),m=c("div"),f=c("p"),f.textContent=b,v=y(),p=c("div"),D=x(s[1]),i=y(),w&&w.c(),H=y(),S=c("div"),E=c("p"),P=x(s[2]),N=y(),B=c("p"),F=x(s[3]),M=y(),T&&T.c(),j=y(),A=c("div"),A.innerHTML=W,L=y(),h=c("div"),V=c("button"),V.textContent=X,G=y(),U=c("button"),U.textContent=K,Y=y(),J=c("div"),J.innerHTML=se,this.h()},l(C){be("svelte-1aq6hhv",document.head).forEach(d),a=k(C),u=r(C,"DIV",{class:!0});var ae=I(u);l=r(ae,"DIV",{class:!0});var q=I(l);t=r(q,"DIV",{class:!0,"data-svelte-h":!0}),O(t)!=="svelte-xaze63"&&(t.innerHTML=g),_=k(q),m=r(q,"DIV",{class:!0});var Z=I(m);f=r(Z,"P",{class:!0,"data-svelte-h":!0}),O(f)!=="svelte-1gj639k"&&(f.textContent=b),v=k(Z),p=r(Z,"DIV",{class:!0});var ie=I(p);D=R(ie,s[1]),ie.forEach(d),Z.forEach(d),i=k(q),w&&w.l(q),H=k(q),S=r(q,"DIV",{class:!0});var $=I(S);E=r($,"P",{class:!0});var oe=I(E);P=R(oe,s[2]),oe.forEach(d),N=k($),B=r($,"P",{class:!0});var re=I(B);F=R(re,s[3]),re.forEach(d),$.forEach(d),M=k(q),T&&T.l(q),j=k(q),A=r(q,"DIV",{class:!0,"data-svelte-h":!0}),O(A)!=="svelte-5btzb3"&&(A.innerHTML=W),L=k(q),h=r(q,"DIV",{class:!0});var ee=I(h);V=r(ee,"BUTTON",{class:!0,"data-svelte-h":!0}),O(V)!=="svelte-1iyrfoc"&&(V.textContent=X),G=k(ee),U=r(ee,"BUTTON",{class:!0,"data-svelte-h":!0}),O(U)!=="svelte-jwobso"&&(U.textContent=K),ee.forEach(d),Y=k(q),J=r(q,"DIV",{class:!0,"data-svelte-h":!0}),O(J)!=="svelte-6z7egj"&&(J.innerHTML=se),q.forEach(d),ae.forEach(d),this.h()},h(){o(t,"class","print-header svelte-mlt6gn"),o(f,"class","label svelte-mlt6gn"),o(p,"class","token-number svelte-mlt6gn"),o(m,"class","token-number-section svelte-mlt6gn"),o(E,"class","date svelte-mlt6gn"),o(B,"class","time svelte-mlt6gn"),o(S,"class","datetime-section svelte-mlt6gn"),o(A,"class","instructions svelte-mlt6gn"),o(V,"class","print-btn svelte-mlt6gn"),o(U,"class","home-btn svelte-mlt6gn"),o(h,"class","actions no-print svelte-mlt6gn"),o(J,"class","token-footer svelte-mlt6gn"),o(l,"class","token-card svelte-mlt6gn"),o(u,"class","container svelte-mlt6gn")},m(C,z){te(C,a,z),te(C,u,z),e(u,l),e(l,t),e(l,_),e(l,m),e(m,f),e(m,v),e(m,p),e(p,D),e(l,i),w&&w.m(l,null),e(l,H),e(l,S),e(S,E),e(E,P),e(S,N),e(S,B),e(B,F),e(l,M),T&&T.m(l,null),e(l,j),e(l,A),e(l,L),e(l,h),e(h,V),e(h,G),e(h,U),e(l,Y),e(l,J),le||(ne=[ve(V,"click",s[4]),ve(U,"click",s[5])],le=!0)},p(C,[z]){z&2&&n!==(n="Token #"+C[1]+" - AL Raqi University Hospital")&&(document.title=n),z&2&&Q(D,C[1]),C[0]?w?w.p(C,z):(w=de(C),w.c(),w.m(l,H)):w&&(w.d(1),w=null),z&4&&Q(P,C[2]),z&8&&Q(F,C[3]),C[0]?T?T.p(C,z):(T=me(C),T.c(),T.m(l,j)):T&&(T.d(1),T=null)},i:ce,o:ce,d(C){C&&(d(a),d(u)),w&&w.d(),T&&T.d(),le=!1,pe(ne)}}}function De(s,n,a){let u,l,t,g,_;ue(s,ke,i=>a(7,g=i)),ue(s,Ce,i=>a(8,_=i));let m="",f="";he(()=>{b();const i=setInterval(b,1e3);return()=>clearInterval(i)});function b(){const i=new Date;a(2,m=i.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})),a(3,f=i.toLocaleTimeString("en-US"))}async function v(){if(typeof window>"u")return;const i=t?t.queue.findIndex(E=>E.number===u)+1:"-",H=t?t.queue.length:"-",S={number:u,section:t==null?void 0:t.name,type:(t==null?void 0:t.type)==="clinic"?"Clinic":(t==null?void 0:t.type)||"-",fee:t==null?void 0:t.price,date:m,time:f,position:i,total:H};if(Ie())try{await we(S)}catch(E){console.error("SUNMI print failed, falling back to browser print",E),window.print&&window.print()}else window.print&&window.print()}function p(){ye("/")}const D=i=>i.number===u;return s.$$.update=()=>{s.$$.dirty&256&&a(1,u=parseInt(_.params.number)),s.$$.dirty&256&&a(6,l=parseInt(_.url.searchParams.get("section")||"0")),s.$$.dirty&192&&a(0,t=g.find(i=>i.id===l)),s.$$.dirty&3&&(t==null||t.queue.find(i=>i.number===u))},[t,u,m,f,v,p,l,g,_,D]}class Ne extends ge{constructor(n){super(),_e(this,n,De,qe,fe,{})}}export{Ne as component,Ae as universal};
