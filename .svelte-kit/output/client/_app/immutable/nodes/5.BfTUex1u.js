const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["../chunks/DaPtPcvu.js","../chunks/C1FmrZbK.js"])))=>i.map(i=>d[i]);
import{_ as j}from"../chunks/C1FmrZbK.js";import{s as z,n as F,r as H,o as G}from"../chunks/Cx-SMqmV.js";import{S as K,i as X,d as w,s as Q,a as $,b as l,l as A,m,c as p,e as N,n as P,g as v,f as W,h as f,j as y,t as B}from"../chunks/BRdh1MfX.js";import{isSunmiAvailable as Y,printToken as Z}from"../chunks/DaPtPcvu.js";function J(c){let e,s=JSON.stringify(c[1],null,2)+"",u;return{c(){e=f("pre"),u=B(s),this.h()},l(a){e=p(a,"PRE",{style:!0});var o=N(e);u=W(o,s),o.forEach(w),this.h()},h(){m(e,"background","#f6f8fa"),m(e,"padding","8px"),m(e,"border-radius","4px"),m(e,"margin-top","8px")},m(a,o){$(a,e,o),l(e,u)},p(a,o){o&2&&s!==(s=JSON.stringify(a[1],null,2)+"")&&Q(u,s)},d(a){a&&w(e)}}}function tt(c){let e,s,u="SUNMI Print Test",a,o,T="Use this page to test the print wrapper locally. In production on a SUNMI device the native bridge will be used.",C,t,n,x="Mock SUNMI Printer",S,h,L="Test Print",U,g,V="Check SUNMI",M,_,E,b=c[0]?"yes":"no",I,D,O,q,i=c[1]&&J(c);return{c(){e=f("div"),s=f("h2"),s.textContent=u,a=y(),o=f("p"),o.textContent=T,C=y(),t=f("div"),n=f("button"),n.textContent=x,S=y(),h=f("button"),h.textContent=L,U=y(),g=f("button"),g.textContent=V,M=y(),_=f("p"),E=B("Mocked: "),I=B(b),D=y(),i&&i.c(),this.h()},l(d){e=p(d,"DIV",{style:!0});var r=N(e);s=p(r,"H2",{"data-svelte-h":!0}),P(s)!=="svelte-1duw1un"&&(s.textContent=u),a=v(r),o=p(r,"P",{"data-svelte-h":!0}),P(o)!=="svelte-17f8sxt"&&(o.textContent=T),C=v(r),t=p(r,"DIV",{style:!0});var k=N(t);n=p(k,"BUTTON",{"data-svelte-h":!0}),P(n)!=="svelte-11ao671"&&(n.textContent=x),S=v(k),h=p(k,"BUTTON",{"data-svelte-h":!0}),P(h)!=="svelte-o60fui"&&(h.textContent=L),U=v(k),g=p(k,"BUTTON",{"data-svelte-h":!0}),P(g)!=="svelte-149gwqk"&&(g.textContent=V),k.forEach(w),M=v(r),_=p(r,"P",{style:!0});var R=N(_);E=W(R,"Mocked: "),I=W(R,b),R.forEach(w),D=v(r),i&&i.l(r),r.forEach(w),this.h()},h(){m(t,"display","flex"),m(t,"gap","8px"),m(_,"margin-top","1rem"),m(e,"padding","1rem")},m(d,r){$(d,e,r),l(e,s),l(e,a),l(e,o),l(e,C),l(e,t),l(t,n),l(t,S),l(t,h),l(t,U),l(t,g),l(e,M),l(e,_),l(_,E),l(_,I),l(e,D),i&&i.m(e,null),O||(q=[A(n,"click",c[2]),A(h,"click",c[3]),A(g,"click",c[4])],O=!0)},p(d,[r]){r&1&&b!==(b=d[0]?"yes":"no")&&Q(I,b),d[1]?i?i.p(d,r):(i=J(d),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},i:F,o:F,d(d){d&&w(e),i&&i.d(),O=!1,H(q)}}}function et(c,e,s){let u=!1,a=null;function o(){typeof window>"u"||(window.sunmi||(window.sunmi={}),window.sunmi.printer={printerInit:()=>console.log("mock: printerInit"),setAlignment:t=>console.log("mock: setAlignment",t),printTextWithFont:(t,n,x,S)=>console.log("mock: printTextWithFont",t,x,S),printText:t=>console.log("mock: printText",t),lineWrap:t=>console.log("mock: lineWrap",t),cutPaper:()=>console.log("mock: cutPaper"),printQRCode:(t,n,x)=>console.log("mock: printQRCode",t),sendRaw:t=>{console.log("mock: sendRaw (base64 length)",t==null?void 0:t.length);try{const n=atob(t);console.log("mock: raw bytes length",n.length)}catch(n){console.error("mock: invalid base64",n)}}},s(0,u=!0))}async function T(){const t=new Date,n={number:42,section:"Cardiology",type:"Clinic",fee:150,date:t.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),time:t.toLocaleTimeString("en-US"),position:3,total:5};await Z(n),alert("Print function invoked (check console).")}async function C(){if(!(typeof window>"u"))try{const{checkPrinterStatus:t}=await j(async()=>{const{checkPrinterStatus:n}=await import("../chunks/DaPtPcvu.js");return{checkPrinterStatus:n}},__vite__mapDeps([0,1]),import.meta.url);s(1,a=await t()),console.log("SUNMI status",a),alert("Check complete — open console for details")}catch(t){console.error(t),alert("Error checking SUNMI — open console")}}return G(()=>{typeof window<"u"&&!Y()&&(console.log("No SUNMI detected — using mock printer."),o())}),[u,a,o,T,C]}class st extends K{constructor(e){super(),X(this,e,et,tt,z,{})}}export{st as component};
